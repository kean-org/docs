{"seeAlsoSections":[{"title":"Advanced","identifiers":["doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/configuration","doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/prefetching","doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/combine","doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/plugins"],"generated":true}],"schemaVersion":{"major":0,"minor":1,"patch":0},"sections":[],"primaryContentSections":[{"kind":"content","content":[{"anchor":"Configuration","level":2,"type":"heading","text":"Configuration"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You have two built-in configurations "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImagePipeline\/Configuration-swift.struct"},{"type":"text","text":" to pick from:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImagePipeline\/Configuration-swift.struct\/withURLCache"},{"type":"text","text":" configuration with a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/DataLoader"},{"type":"text","text":" with an HTTP disk cache ("},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/foundation\/urlcache"},{"type":"text","text":") with a size limit of 150 MB."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImagePipeline\/Configuration-swift.struct\/withDataCache"},{"type":"text","text":" configuration with an aggressive LRU disk cache "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/DataCache"},{"type":"text","text":" with a size limit of 150 MB. An HTTP cache is disabled."}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Both configurations also have an LRU memory cache "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImageCache"},{"type":"text","text":" enabled and "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImageCache\/shared"},{"type":"text","text":" across the pipelines. The size of the memory cache automatically adjusts based on the amount of memory on the device."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The default pipeline uses "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImagePipeline\/Configuration-swift.struct\/withURLCache"},{"type":"text","text":" configuration by default. You can change the default pipeline by creating a new one:"}]},{"type":"codeListing","syntax":"swift","code":["ImagePipeline.shared = ImagePipeline(configuration: .withDataCache)"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"What configuration should use choose? It depends on your use case."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"An "},{"type":"strong","inlineContent":[{"type":"text","text":"HTTP disk cache"}]},{"type":"text","text":" ("},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImagePipeline\/Configuration-swift.struct\/withURLCache"},{"type":"text","text":" option) gives the server precise control over caching via "},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/HTTP\/Headers\/Cache-Control"},{"type":"text","text":" HTTP headers. You can specify what images to cache and for how long. The client cant also periodically check the cached response for "},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/HTTP\/Caching#freshness"},{"type":"text","text":" and refresh if needed – useful for refreshing profile pictures or logos."}]},{"type":"aside","style":"tip","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Learn more about HTTP cache in "},{"type":"reference","isActive":true,"identifier":"https:\/\/kean.blog\/post\/image-caching#http-caching"}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"An "},{"type":"strong","inlineContent":[{"type":"text","text":"aggressive LRU disk cache"}]},{"type":"text","text":" ("},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImagePipeline\/Configuration-swift.struct\/withDataCache"},{"type":"text","text":" option) ignores HTTP cache-control headers and "},{"type":"emphasis","inlineContent":[{"type":"text","text":"always"}]},{"type":"text","text":" stores fetched images, which works great for content that never changes. It can be much faster than "},{"type":"codeVoice","code":"URLCache"},{"type":"text","text":" in some situations and works great "},{"type":"reference","isActive":true,"identifier":"\/nuke\/guides\/troubleshooting#cached-images-are-not-displaying-offline"},{"type":"text","text":". Use this option in all situations except when you need HTTP cache control."}]},{"anchor":"Cache-Policy","level":3,"type":"heading","text":"Cache Policy"},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you use an aggressive disk cache "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/DataCache"},{"type":"text","text":", which is a recommended option, you can specify a cache policy "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImagePipeline\/Configuration-swift.struct\/DataCachePolicy-swift.enum"},{"type":"text","text":". There are four available options:"}]},{"type":"table","rows":[[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Policy"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Description"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImagePipeline\/Configuration-swift.struct\/DataCachePolicy-swift.enum\/automatic"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"For requests with processors, encode and store processed images. For requests with no processors, store original image data, unless the resource is local (file:\/\/ or data:\/\/ scheme is used)."}]}]],[[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImagePipeline\/Configuration-swift.struct\/DataCachePolicy-swift.enum\/storeOriginalData"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"For all requests, only store the original image data, unless the resource is local (file:\/\/ or data:\/\/ scheme is used)"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImagePipeline\/Configuration-swift.struct\/DataCachePolicy-swift.enum\/storeEncodedImages"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"For all requests, encode and store decoded images after all processors are applied. This is useful if you want to store images in a format different than provided by a server, e.g. decompressed. In other scenarios, consider using .automatic policy instead."}]}]],[[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImagePipeline\/Configuration-swift.struct\/DataCachePolicy-swift.enum\/storeAll"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"For requests with processors, encode and store processed images. For all requests, store original image data"}]}]]],"header":"row"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The default policy is "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImagePipeline\/Configuration-swift.struct\/DataCachePolicy-swift.enum\/storeOriginalData"},{"type":"text","text":"."}]},{"type":"aside","style":"important","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"With "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImagePipeline\/Configuration-swift.struct\/DataCachePolicy-swift.enum\/automatic"},{"type":"text","text":" and "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImagePipeline\/Configuration-swift.struct\/DataCachePolicy-swift.enum\/storeEncodedImages"},{"type":"text","text":" policies, the pipeline "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImagePipeline\/loadData(with:queue:progress:completion:)"},{"type":"text","text":" method will not store the images in the disk cache for requests with any processors applied – this method only loads data and doesn’t decode images. This also affects how "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImagePrefetcher"},{"type":"text","text":" with a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImagePrefetcher\/Destination\/diskCache"},{"type":"text","text":" destination works."}]}]},{"anchor":"Cache-Layers","level":2,"type":"heading","text":"Cache Layers"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Nuke has three cache layers:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImageCache"},{"type":"text","text":" – LRU "},{"type":"strong","inlineContent":[{"type":"text","text":"memory"}]},{"type":"text","text":" cache for processed images"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/DataCache"},{"type":"text","text":" – aggressive LRU "},{"type":"strong","inlineContent":[{"type":"text","text":"disk"}]},{"type":"text","text":" cache"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"overridingTitleInlineContent":[{"type":"codeVoice","code":"URLCache"}],"isActive":true,"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/foundation\/urlcache","overridingTitle":"URLCache"},{"type":"text","text":" – HTTP "},{"type":"strong","inlineContent":[{"type":"text","text":"disk"}]},{"type":"text","text":" cache which is part of the native "},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/foundation\/url_loading_system"}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"If none of the built-in "},{"type":"reference","isActive":true,"identifier":"#configuration"},{"type":"text","text":" work for you, you can configure the pipeline to have none, all, or the combination of these cache layers."}]},{"anchor":"Memory-Cache","level":3,"type":"heading","text":"Memory Cache"},{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImageCache"},{"type":"text","text":" is a "},{"type":"strong","inlineContent":[{"type":"text","text":"memory"}]},{"type":"text","text":" cache with an "},{"type":"reference","isActive":true,"identifier":"https:\/\/en.wikipedia.org\/wiki\/Cache_replacement_policies#Least_recently_used_(LRU)"},{"type":"text","text":" policy (least recently used are removed first). The pipeline uses it to store processed images that are decompressed and are ready to be displayed."}]},{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImageCache"},{"type":"text","text":" discards the least recently cached images if either "},{"type":"emphasis","inlineContent":[{"type":"text","text":"cost"}]},{"type":"text","text":" or "},{"type":"emphasis","inlineContent":[{"type":"text","text":"count"}]},{"type":"text","text":" limit is reached. The default cost limit represents a number of bytes and is calculated based on the amount of physical memory available on the device. The default count limit is "},{"type":"codeVoice","code":"Int.max"},{"type":"text","text":"."}]},{"type":"codeListing","syntax":"swift","code":["\/\/ Configure cache","ImageCache.shared.costLimit = 1024 * 1024 * 100 \/\/ 100 MB","ImageCache.shared.countLimit = 100","ImageCache.shared.ttl = 120 \/\/ Invalidate image after 120 sec","","\/\/ Read and write images","let request = ImageRequest(url: url)","ImageCache.shared[request] = ImageContainer(image: image)","let image = ImageCache.shared[request]","","\/\/ Clear cache","ImageCache.shared.removeAll()"]},{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"ImageCache"},{"type":"text","text":" automatically removes all stored elements when it receives a memory warning. It also automatically removes "},{"type":"emphasis","inlineContent":[{"type":"text","text":"most"}]},{"type":"text","text":" stored elements when the app enters the background."}]},{"type":"aside","style":"note","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"You can implement a custom cache by conforming to the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImageCaching"},{"type":"text","text":" protocol."}]}]},{"anchor":"HTTP-Disk-Cache","level":3,"type":"heading","text":"HTTP Disk Cache"},{"type":"paragraph","inlineContent":[{"overridingTitleInlineContent":[{"type":"codeVoice","code":"URLCache"}],"isActive":true,"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/foundation\/urlcache","overridingTitle":"URLCache"},{"type":"text","text":" is an HTTP "},{"type":"strong","inlineContent":[{"type":"text","text":"disk"}]},{"type":"text","text":" cache that is part of the native "},{"overridingTitleInlineContent":[{"type":"text","text":"URL loading system"}],"isActive":true,"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/foundation\/url_loading_system","overridingTitle":"URL loading system"},{"type":"text","text":". It is used by the default image pipeline which is instantiated with a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImagePipeline\/Configuration-swift.struct\/withURLCache"},{"type":"text","text":" configuration."}]},{"type":"codeListing","syntax":"swift","code":["\/\/ Configure cache","DataLoader.sharedUrlCache.diskCapacity = 100","DataLoader.sharedUrlCache.memoryCapacity = 0","","\/\/ Read and write responses","let request = ImageRequest(url: url)","let _ = DataLoader.sharedUrlCache.cachedResponse(for: request.urlRequest)","DataLoader.sharedUrlCache.removeCachedResponse(for: request.urlRequest)","","\/\/ Clear cache","DataLoader.sharedUrlCache.removeAllCachedResponses()"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"An HTTP disk cache ("},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImagePipeline\/Configuration-swift.struct\/withURLCache"},{"type":"text","text":" option) gives the server precise control over caching via "},{"overridingTitleInlineContent":[{"type":"codeVoice","code":"cache-control"}],"isActive":true,"type":"reference","identifier":"https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/HTTP\/Headers\/Cache-Control","overridingTitle":"cache-control"},{"type":"text","text":" HTTP headers. You can specify what images to cache and for how long. The client cant also periodically check the cached response for "},{"overridingTitleInlineContent":[{"type":"text","text":"freshness"}],"isActive":true,"type":"reference","identifier":"https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/HTTP\/Caching#freshness","overridingTitle":"freshness"},{"type":"text","text":" and refresh if needed – useful for refreshing profile pictures or logos."}]},{"type":"aside","style":"tip","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Learn more about HTTP cache in "},{"overridingTitleInlineContent":[{"type":"text","text":"“Image Caching.”"}],"isActive":true,"type":"reference","identifier":"https:\/\/kean.blog\/post\/image-caching#http-caching","overridingTitle":"“Image Caching.”"}]}]},{"anchor":"Aggressive-Disk-Cache","level":3,"type":"heading","text":"Aggressive Disk Cache"},{"type":"paragraph","inlineContent":[{"type":"text","text":"If HTTP caching is not your cup of tea, try a custom LRU disk cache for fast and reliable "},{"type":"emphasis","inlineContent":[{"type":"text","text":"aggressive"}]},{"type":"text","text":" data caching (ignores "},{"overridingTitleInlineContent":[{"type":"text","text":"HTTP cache control"}],"isActive":true,"type":"reference","identifier":"https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/HTTP\/Headers\/Cache-Control","overridingTitle":"HTTP cache control"},{"type":"text","text":"). You can enable it using the respective pipeline configuration."}]},{"type":"codeListing","syntax":"swift","code":["ImagePipeline.shared = ImagePipeline(configuration: .withDataCache)"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you want to change the disk cache configuration, you can also instantiate "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/DataCache"},{"type":"text","text":" manually or even provide your own implementation by conforming to "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/DataCaching"},{"type":"text","text":" protocol:"}]},{"type":"codeListing","syntax":"swift","code":["ImagePipeline {","    $0.dataCache = try? DataCache(name: \"com.myapp.datacache\")","}"]},{"type":"aside","style":"important","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"If you enable it manually, make sure to disable the native URL cache. To do it, pass a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/DataLoader"},{"type":"text","text":" with a custom "},{"type":"codeVoice","code":"URLSessionConfiguration"},{"type":"text","text":" when creating a pipeline. Built-in "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImagePipeline\/Configuration-swift.struct\/withDataCache"},{"type":"text","text":" configuration takes care of it automatically for you."}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"By default, the pipeline stores only the original image data. You can change this behavior by specifying a different cache policy that was "},{"type":"reference","isActive":true,"identifier":"#cache-policy"},{"type":"text","text":"."}]},{"type":"codeListing","syntax":"swift","code":["let dataCache = try DataCache(name: \"my-cache\")","","dataCache.sizeLimit = = 1024 * 1024 * 100 \/\/ 100 MB","","dataCache.storeData(data, for: \"key\")","if dataCache.containsData(for: \"key\") {","    print(\"Data is cached\")","}","let data = dataCache.cachedData(for: \"key\")","\/\/ or let data = dataCache[\"key\"]","dataCache.removeData(for: \"key\")","dataCache.removeAll()"]},{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/DataCache"},{"type":"text","text":" is asynchronous which means "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/DataCache\/storeData(_:for:)"},{"type":"text","text":" method returns imediatelly and the disk I\/O happens later. For a syncrhonous write, use "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/DataCache\/flush()"},{"type":"text","text":"."}]},{"type":"codeListing","syntax":"swift","code":["dataCache.storeData(data, for: \"key\")","dataCache.flush()","\/\/ or dataCache.flush(for: \"key\")","","let url = dataCache.url(for: \"key\")","\/\/ Access file directly"]},{"anchor":"Cache-Lookup","level":2,"type":"heading","text":"Cache Lookup"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The pipeline performs cache lookup automatically when you request an image, but you also have a fair deal of control over the caching behavior with "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImageRequest\/Options-swift.struct"},{"type":"text","text":"."}]},{"anchor":"Fetching-From-Cache","level":3,"type":"heading","text":"Fetching From Cache"},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you want to perform cache lookup without download the image from the network, use "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImageRequest\/Options-swift.struct\/returnCacheDataDontLoad"},{"type":"text","text":" option."}]},{"type":"codeListing","syntax":"swift","code":["let request = ImageRequest(url: url, options: [.returnCacheDataDontLoad])","pipeline.loadImage(with: request) { result in","    switch result {","    case .success(let response):","        let image = response.image","        let cacheType = response.cacheType \/\/ .memory, .disk, or nil","    case .failure(let error):","        \/\/ Failed with an error","    }","}"]},{"type":"aside","style":"important","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"This option only affects custom cache layers, but not "},{"type":"codeVoice","code":"URLCache"},{"type":"text","text":", which is controlled by the "},{"overridingTitleInlineContent":[{"type":"text","text":"URL loading system"}],"isActive":true,"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/foundation\/url_loading_system","overridingTitle":"URL loading system"},{"type":"text","text":"."}]}]},{"anchor":"Reloading-Images","level":3,"type":"heading","text":"Reloading Images"},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you need to reload an image, you can use "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImagePipeline\/Cache-swift.struct"},{"type":"text","text":" to remove the image from all cache layers (excluding "},{"type":"codeVoice","code":"URLCache"},{"type":"text","text":" that reloads automatically based on HTTP cache-control headers) before downloading it."}]},{"type":"codeListing","syntax":"swift","code":["let request = ImageRequest(url: url)","pipeline.cache.removeCachedImage(for: request)"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you want to keep the image in caches but reload it, you can instruct the pipeline to ignore the cached data."}]},{"type":"codeListing","syntax":"swift","code":["let request = ImageRequest(url: url, options: [ .reloadIgnoringCacheData])","Nuke.loadImage(with: request, into: imageView)"]},{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImageRequest\/Options-swift.struct"},{"type":"text","text":" provides even more granluar control if needed, e.g. "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImageRequest\/Options-swift.struct\/disableMemoryCacheReads"},{"type":"text","text":" and other similar options."}]},{"anchor":"Direct-Access","level":2,"type":"heading","text":"Direct Access"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can access any caching layer directly, but the pipeline also offers a convenience API: "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImagePipeline\/Cache-swift.struct"},{"type":"text","text":". By using it, you can update multiple cache layers at once, and you don’t need to worry about managing the cache keys. It works with custom caches ("},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImageCaching"},{"type":"text","text":" and "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/DataCaching"},{"type":"text","text":") but not with "},{"type":"codeVoice","code":"URLCache"},{"type":"text","text":", which is controlled by the "},{"overridingTitleInlineContent":[{"type":"text","text":"URL loading system"}],"isActive":true,"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/foundation\/url_loading_system","overridingTitle":"URL loading system"},{"type":"text","text":"."}]},{"anchor":"Subscript","level":3,"type":"heading","text":"Subscript"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can access memory cache with a subscript."}]},{"type":"codeListing","syntax":"swift","code":["\/\/ It works with ImageRequestConvertible so it supports String, URL,","\/\/ URLRequest, and ImageRequest","let image = pipeline.cache[URL(string: \"https:\/\/example.com\/image.jpeg\")!]","pipeline.cache[ImageRequest(url: url)] = nil","pipeline.cache[\"https:\/\/example.com\/image.jpeg\"] = ImageContainer(image: image)"]},{"type":"aside","style":"note","content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImageContainer"},{"type":"text","text":" contains some metadata about the image, and in the case of animated images or other images that require non-trivial rendering also contains "},{"type":"codeVoice","code":"data"},{"type":"text","text":". It also allows you to distinguish between progressive previews in case "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImagePipeline\/Configuration-swift.struct\/isStoringPreviewsInMemoryCache"},{"type":"text","text":" option is enabled."}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"All "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImagePipeline\/Cache-swift.struct"},{"type":"text","text":" respect request cache control options."}]},{"type":"codeListing","syntax":"swift","code":["let url = URL(string: \"https:\/\/example.com\/image.jpeg\")!","pipeline.cache[url] = image","","\/\/ Returns `nil` because memory cache reads are disabled","let request = ImageRequest(url: url, options: [.disableMemoryCacheWrites])","let image = pipeline.cache[request]"]},{"anchor":"Accessing-Images","level":3,"type":"heading","text":"Accessing Images"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Apart from the subscript, "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImagePipeline\/Cache-swift.struct"},{"type":"text","text":" also has methods for reading and writing images in either memory or disk cache or both."}]},{"type":"codeListing","syntax":"swift","code":["let cache = pipeline.cache","let request = ImageRequest(url: URL(string: \"https:\/\/example.com\/image.jpeg\")!)","","cache.cachedImage(for: request) \/\/ From any cache layer","cache.cachedImage(for: request, caches: [.memory]) \/\/ Only memory","cache.cachedImage(for: request, caches: [.disk]) \/\/ Only disk (decodes data)","","let data = cache.cachedData(for: request)","cache.containsData(for: request) \/\/ Fast contains check ","","\/\/ Stores image in the memory cache and stores an encoded","\/\/ image in the disk cache","cache.storeImage(image, for: request)","","cache.removeImage(for: request)","cache.removeAll()"]},{"anchor":"Managing-Cache-Keys","level":3,"type":"heading","text":"Managing Cache Keys"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You don’t need to worry about cache keys when working with "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImagePipeline\/Cache-swift.struct"},{"type":"text","text":", but it also gives you access to them in case you need it."}]},{"type":"codeListing","syntax":"swift","code":["pipeline.cache.makeImageCacheKey(for: request)","pipeline.cache.makeDataCacheKey(for: request)"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"There is also a hook in "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImagePipelineDelegate"},{"type":"text","text":" that allows you to customize how the keys are generated:"}]},{"type":"codeListing","syntax":"swift","code":["func cacheKey(for request: ImageRequest, pipeline: ImagePipeline) -> String? {","    request.userInfo[\"imageId\"] as? String","}"]}]}],"variants":[{"paths":["\/documentation\/nuke\/caching"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/caching","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Nuke has three cache layers that you can configure to precisely match your app needs. The pipeline uses these caches when you request an image. Your app has advanced control over how images are stored and retrieved and direct access to all cache layers."}],"kind":"article","metadata":{"roleHeading":"Article","title":"Caching","role":"article","modules":[{"name":"Nuke"}]},"hierarchy":{"paths":[["doc:\/\/com.github.kean.Nuke\/documentation\/Nuke"]]},"documentVersion":0,"references":{"doc://com.github.kean.Nuke/documentation/Nuke/ImagePipeline/Cache-swift.struct":{"role":"symbol","title":"ImagePipeline.Cache","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"Cache"}],"abstract":[{"type":"text","text":"Provides a set of convenience APIs for managing the pipeline cache layers,"},{"type":"text","text":" "},{"type":"text","text":"including "},{"type":"codeVoice","code":"ImageCaching"},{"type":"text","text":" (memory cache) and "},{"type":"codeVoice","code":"DataCaching"},{"type":"text","text":" (disk cache)."}],"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImagePipeline\/Cache-swift.struct","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Cache"}],"url":"\/documentation\/nuke\/imagepipeline\/cache-swift.struct"},"doc://com.github.kean.Nuke/documentation/Nuke/ImagePipeline/Configuration-swift.struct/DataCachePolicy-swift.enum/automatic":{"role":"symbol","title":"ImagePipeline.Configuration.DataCachePolicy.automatic","fragments":[{"kind":"keyword","text":"case"},{"kind":"text","text":" "},{"kind":"identifier","text":"automatic"}],"abstract":[{"type":"text","text":"For requests with processors, encode and store processed images."},{"type":"text","text":" "},{"type":"text","text":"For requests with no processors, store original image data, unless"},{"type":"text","text":" "},{"type":"text","text":"the resource is local (file:\/\/ or data:\/\/ scheme is used)."}],"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImagePipeline\/Configuration-swift.struct\/DataCachePolicy-swift.enum\/automatic","kind":"symbol","type":"topic","url":"\/documentation\/nuke\/imagepipeline\/configuration-swift.struct\/datacachepolicy-swift.enum\/automatic"},"doc://com.github.kean.Nuke/documentation/Nuke/ImageCache/shared":{"role":"symbol","title":"shared","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"let"},{"kind":"text","text":" "},{"kind":"identifier","text":"shared"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"ImageCache","preciseIdentifier":"s:4Nuke10ImageCacheC"}],"abstract":[{"type":"text","text":"Shared "},{"type":"codeVoice","code":"Cache"},{"type":"text","text":" instance."}],"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImageCache\/shared","kind":"symbol","type":"topic","url":"\/documentation\/nuke\/imagecache\/shared"},"doc://com.github.kean.Nuke/documentation/Nuke/ImagePipelineDelegate":{"role":"symbol","title":"ImagePipelineDelegate","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"ImagePipelineDelegate"}],"abstract":[{"type":"text","text":"A delegate that allows you to customize the pipleine on a per-request basis."}],"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImagePipelineDelegate","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"ImagePipelineDelegate"}],"url":"\/documentation\/nuke\/imagepipelinedelegate"},"https://developer.apple.com/documentation/foundation/url_loading_system":{"title":"URL loading system","titleInlineContent":[{"type":"text","text":"URL loading system"}],"type":"link","identifier":"https:\/\/developer.apple.com\/documentation\/foundation\/url_loading_system","url":"https:\/\/developer.apple.com\/documentation\/foundation\/url_loading_system"},"doc://com.github.kean.Nuke/documentation/Nuke/ImagePipeline/Configuration-swift.struct/DataCachePolicy-swift.enum/storeAll":{"role":"symbol","title":"ImagePipeline.Configuration.DataCachePolicy.storeAll","fragments":[{"kind":"keyword","text":"case"},{"kind":"text","text":" "},{"kind":"identifier","text":"storeAll"}],"abstract":[{"type":"text","text":"For requests with processors, encode and store processed images."},{"type":"text","text":" "},{"type":"text","text":"For all requests, store original image data."}],"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImagePipeline\/Configuration-swift.struct\/DataCachePolicy-swift.enum\/storeAll","kind":"symbol","type":"topic","url":"\/documentation\/nuke\/imagepipeline\/configuration-swift.struct\/datacachepolicy-swift.enum\/storeall"},"doc://com.github.kean.Nuke/documentation/Nuke/ImagePipeline/Configuration-swift.struct/DataCachePolicy-swift.enum":{"role":"symbol","title":"ImagePipeline.Configuration.DataCachePolicy","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"DataCachePolicy"}],"abstract":[{"type":"text","text":"Determines what images are stored in the disk cache."}],"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImagePipeline\/Configuration-swift.struct\/DataCachePolicy-swift.enum","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"DataCachePolicy"}],"url":"\/documentation\/nuke\/imagepipeline\/configuration-swift.struct\/datacachepolicy-swift.enum"},"doc://com.github.kean.Nuke/documentation/Nuke/ImageContainer":{"role":"symbol","title":"ImageContainer","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"ImageContainer"}],"abstract":[{"type":"text","text":"An image container with an image and associated metadata."}],"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImageContainer","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"ImageContainer"}],"url":"\/documentation\/nuke\/imagecontainer"},"https://kean.blog/post/image-caching#http-caching":{"title":"“Image Caching.”","titleInlineContent":[{"type":"text","text":"“Image Caching.”"}],"type":"link","identifier":"https:\/\/kean.blog\/post\/image-caching#http-caching","url":"https:\/\/kean.blog\/post\/image-caching#http-caching"},"doc://com.github.kean.Nuke/documentation/Nuke/DataCache/flush()":{"role":"symbol","title":"flush()","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"flush"},{"kind":"text","text":"()"}],"abstract":[{"type":"text","text":"Synchronously waits on the caller’s thread until all outstanding disk I\/O"},{"type":"text","text":" "},{"type":"text","text":"operations are finished."}],"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/DataCache\/flush()","kind":"symbol","type":"topic","url":"\/documentation\/nuke\/datacache\/flush()"},"doc://com.github.kean.Nuke/documentation/Nuke/ImagePipeline/Configuration-swift.struct":{"role":"symbol","title":"ImagePipeline.Configuration","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"Configuration"}],"abstract":[{"type":"text","text":"The pipeline configuration."}],"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImagePipeline\/Configuration-swift.struct","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Configuration"}],"url":"\/documentation\/nuke\/imagepipeline\/configuration-swift.struct"},"doc://com.github.kean.Nuke/documentation/Nuke/ImagePipeline/Configuration-swift.struct/withDataCache":{"role":"symbol","title":"withDataCache","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"withDataCache"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"ImagePipeline","preciseIdentifier":"s:4Nuke13ImagePipelineC"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"Configuration","preciseIdentifier":"s:4Nuke13ImagePipelineC13ConfigurationV"}],"abstract":[{"type":"text","text":"A configuration with an aggressive disk cache ("},{"type":"codeVoice","code":"DataCache"},{"type":"text","text":") with a"},{"type":"text","text":" "},{"type":"text","text":"size limit of 150 MB. An HTTP cache ("},{"type":"codeVoice","code":"URLCache"},{"type":"text","text":") is disabled."}],"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImagePipeline\/Configuration-swift.struct\/withDataCache","kind":"symbol","type":"topic","url":"\/documentation\/nuke\/imagepipeline\/configuration-swift.struct\/withdatacache"},"#cache-policy":{"title":"described earlier","titleInlineContent":[{"type":"text","text":"described earlier"}],"type":"link","identifier":"#cache-policy","url":"#cache-policy"},"doc://com.github.kean.Nuke/documentation/Nuke/ImagePipeline/Configuration-swift.struct/withURLCache":{"role":"symbol","title":"withURLCache","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"withURLCache"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"ImagePipeline","preciseIdentifier":"s:4Nuke13ImagePipelineC"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"Configuration","preciseIdentifier":"s:4Nuke13ImagePipelineC13ConfigurationV"}],"abstract":[{"type":"text","text":"A configuration with a "},{"type":"codeVoice","code":"DataLoader"},{"type":"text","text":" with an HTTP disk cache ("},{"type":"codeVoice","code":"URLCache"},{"type":"text","text":")"},{"type":"text","text":" "},{"type":"text","text":"with a size limit of 150 MB."}],"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImagePipeline\/Configuration-swift.struct\/withURLCache","kind":"symbol","type":"topic","url":"\/documentation\/nuke\/imagepipeline\/configuration-swift.struct\/withurlcache"},"#configuration":{"title":"configurations","titleInlineContent":[{"type":"text","text":"configurations"}],"type":"link","identifier":"#configuration","url":"#configuration"},"doc://com.github.kean.Nuke/documentation/Nuke/ImagePipeline/Configuration-swift.struct/isStoringPreviewsInMemoryCache":{"role":"symbol","title":"isStoringPreviewsInMemoryCache","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"isStoringPreviewsInMemoryCache"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"}],"abstract":[{"type":"codeVoice","code":"false"},{"type":"text","text":" by default. If "},{"type":"codeVoice","code":"true"},{"type":"text","text":", the pipeline will store all of the"},{"type":"text","text":" "},{"type":"text","text":"progressively generated previews in the memory cache. All of the"},{"type":"text","text":" "},{"type":"text","text":"previews have "},{"type":"codeVoice","code":"isPreview"},{"type":"text","text":" flag set to "},{"type":"codeVoice","code":"true"},{"type":"text","text":"."}],"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImagePipeline\/Configuration-swift.struct\/isStoringPreviewsInMemoryCache","kind":"symbol","type":"topic","url":"\/documentation\/nuke\/imagepipeline\/configuration-swift.struct\/isstoringpreviewsinmemorycache"},"doc://com.github.kean.Nuke/documentation/Nuke/ImagePrefetcher":{"role":"symbol","title":"ImagePrefetcher","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"ImagePrefetcher"}],"abstract":[{"type":"text","text":"Prefetches and caches images to eliminate delays when requesting the same"},{"type":"text","text":" "},{"type":"text","text":"images later."}],"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImagePrefetcher","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"ImagePrefetcher"}],"url":"\/documentation\/nuke\/imageprefetcher"},"doc://com.github.kean.Nuke/documentation/Nuke/ImageRequest/Options-swift.struct":{"role":"symbol","title":"ImageRequest.Options","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"Options"}],"abstract":[{"type":"text","text":"Image request options."}],"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImageRequest\/Options-swift.struct","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Options"}],"url":"\/documentation\/nuke\/imagerequest\/options-swift.struct"},"doc://com.github.kean.Nuke/documentation/Nuke/ImageRequest/Options-swift.struct/returnCacheDataDontLoad":{"role":"symbol","title":"returnCacheDataDontLoad","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"let"},{"kind":"text","text":" "},{"kind":"identifier","text":"returnCacheDataDontLoad"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"ImageRequest","preciseIdentifier":"s:4Nuke12ImageRequestV"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"Options","preciseIdentifier":"s:4Nuke12ImageRequestV7OptionsV"}],"abstract":[{"type":"text","text":"Use existing cache data and fail if no cached data is available."}],"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImageRequest\/Options-swift.struct\/returnCacheDataDontLoad","kind":"symbol","type":"topic","url":"\/documentation\/nuke\/imagerequest\/options-swift.struct\/returncachedatadontload"},"https://developer.apple.com/documentation/foundation/urlcache":{"title":"URLCache","titleInlineContent":[{"type":"codeVoice","code":"URLCache"}],"type":"link","identifier":"https:\/\/developer.apple.com\/documentation\/foundation\/urlcache","url":"https:\/\/developer.apple.com\/documentation\/foundation\/urlcache"},"https://en.wikipedia.org/wiki/Cache_replacement_policies#Least_recently_used_(LRU)":{"title":"LRU cleanup","titleInlineContent":[{"type":"text","text":"LRU cleanup"}],"type":"link","identifier":"https:\/\/en.wikipedia.org\/wiki\/Cache_replacement_policies#Least_recently_used_(LRU)","url":"https:\/\/en.wikipedia.org\/wiki\/Cache_replacement_policies#Least_recently_used_(LRU)"},"doc://com.github.kean.Nuke/documentation/Nuke/ImageRequest/Options-swift.struct/disableMemoryCacheReads":{"role":"symbol","title":"disableMemoryCacheReads","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"let"},{"kind":"text","text":" "},{"kind":"identifier","text":"disableMemoryCacheReads"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"ImageRequest","preciseIdentifier":"s:4Nuke12ImageRequestV"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"Options","preciseIdentifier":"s:4Nuke12ImageRequestV7OptionsV"}],"abstract":[{"type":"text","text":"Disables memory cache reads ("},{"type":"codeVoice","code":"ImageCaching"},{"type":"text","text":")."}],"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImageRequest\/Options-swift.struct\/disableMemoryCacheReads","kind":"symbol","type":"topic","url":"\/documentation\/nuke\/imagerequest\/options-swift.struct\/disablememorycachereads"},"doc://com.github.kean.Nuke/documentation/Nuke/DataLoader":{"role":"symbol","title":"DataLoader","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"DataLoader"}],"abstract":[{"type":"text","text":"Provides basic networking using "},{"type":"codeVoice","code":"URLSession"},{"type":"text","text":"."}],"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/DataLoader","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"DataLoader"}],"url":"\/documentation\/nuke\/dataloader"},"doc://com.github.kean.Nuke/documentation/Nuke/plugins":{"role":"article","title":"Plugins","abstract":[{"type":"text","text":"The image pipeline is easy to customize and extend. Check out the following first-class extensions and packages built by the community."}],"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/plugins","kind":"article","type":"topic","url":"\/documentation\/nuke\/plugins"},"/nuke/guides/troubleshooting#cached-images-are-not-displaying-offline":{"title":"offline","titleInlineContent":[{"type":"text","text":"offline"}],"type":"link","identifier":"\/nuke\/guides\/troubleshooting#cached-images-are-not-displaying-offline","url":"\/nuke\/guides\/troubleshooting#cached-images-are-not-displaying-offline"},"doc://com.github.kean.Nuke/documentation/Nuke/prefetching":{"role":"article","title":"Prefetching","abstract":[{"type":"text","text":"Loading data ahead of time in anticipation of its use (prefetching) is a great way to improve user experience. It’s especially effective for images; it can give users an impression that there is no networking and the images are just magically always there."}],"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/prefetching","kind":"article","type":"topic","url":"\/documentation\/nuke\/prefetching"},"doc://com.github.kean.Nuke/documentation/Nuke/DataCaching":{"role":"symbol","title":"DataCaching","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"DataCaching"}],"abstract":[{"type":"text","text":"Data cache."}],"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/DataCaching","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"DataCaching"}],"url":"\/documentation\/nuke\/datacaching"},"doc://com.github.kean.Nuke/documentation/Nuke/ImagePipeline/Configuration-swift.struct/DataCachePolicy-swift.enum/storeOriginalData":{"role":"symbol","title":"ImagePipeline.Configuration.DataCachePolicy.storeOriginalData","fragments":[{"kind":"keyword","text":"case"},{"kind":"text","text":" "},{"kind":"identifier","text":"storeOriginalData"}],"abstract":[{"type":"text","text":"For all requests, only store the original image data, unless"},{"type":"text","text":" "},{"type":"text","text":"the resource is local (file:\/\/ or data:\/\/ scheme is used)."}],"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImagePipeline\/Configuration-swift.struct\/DataCachePolicy-swift.enum\/storeOriginalData","kind":"symbol","type":"topic","url":"\/documentation\/nuke\/imagepipeline\/configuration-swift.struct\/datacachepolicy-swift.enum\/storeoriginaldata"},"doc://com.github.kean.Nuke/documentation/Nuke/ImagePrefetcher/Destination/diskCache":{"role":"symbol","title":"ImagePrefetcher.Destination.diskCache","fragments":[{"kind":"keyword","text":"case"},{"kind":"text","text":" "},{"kind":"identifier","text":"diskCache"}],"abstract":[{"type":"text","text":"Prefetches the image data and stores it in disk caches. It does not"},{"type":"text","text":" "},{"type":"text","text":"require decoding the image data and therefore requires less CPU."}],"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImagePrefetcher\/Destination\/diskCache","kind":"symbol","type":"topic","url":"\/documentation\/nuke\/imageprefetcher\/destination\/diskcache"},"doc://com.github.kean.Nuke/documentation/Nuke":{"role":"collection","title":"Nuke","abstract":[{"type":"text","text":"Welcome to the documentation for Nuke, an image loading system for Apple platforms."}],"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke","kind":"symbol","type":"topic","url":"\/documentation\/nuke"},"doc://com.github.kean.Nuke/documentation/Nuke/ImageCache":{"role":"symbol","title":"ImageCache","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"ImageCache"}],"abstract":[{"type":"text","text":"An LRU memory cache."}],"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImageCache","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"ImageCache"}],"url":"\/documentation\/nuke\/imagecache"},"https://developer.mozilla.org/en-US/docs/Web/HTTP/Caching#freshness":{"title":"freshness","titleInlineContent":[{"type":"text","text":"freshness"}],"type":"link","identifier":"https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/HTTP\/Caching#freshness","url":"https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/HTTP\/Caching#freshness"},"doc://com.github.kean.Nuke/documentation/Nuke/ImageCaching":{"role":"symbol","title":"ImageCaching","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"ImageCaching"}],"abstract":[{"type":"text","text":"In-memory image cache."}],"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImageCaching","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"ImageCaching"}],"url":"\/documentation\/nuke\/imagecaching"},"doc://com.github.kean.Nuke/documentation/Nuke/combine":{"role":"article","title":"Combine","abstract":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImagePublisher"},{"type":"text","text":" starts a new "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImageTask"},{"type":"text","text":" when a subscriber is added and delivers the results to the subscriber. If the requested image is available in the memory cache, the value is delivered immediately. When the subscription is canceled, the task also gets canceled."}],"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/combine","kind":"article","type":"topic","url":"\/documentation\/nuke\/combine"},"doc://com.github.kean.Nuke/documentation/Nuke/DataCache/storeData(_:for:)":{"role":"symbol","title":"storeData(_:for:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"storeData"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"Data","preciseIdentifier":"s:10Foundation4DataV"},{"kind":"text","text":", "},{"kind":"externalParam","text":"for"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"DataCache","preciseIdentifier":"s:4Nuke9DataCacheC"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"Key","preciseIdentifier":"s:4Nuke9DataCacheC3Keya"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Stores data for the given key. The method returns instantly and the data"},{"type":"text","text":" "},{"type":"text","text":"is written asynchronously."}],"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/DataCache\/storeData(_:for:)","kind":"symbol","type":"topic","url":"\/documentation\/nuke\/datacache\/storedata(_:for:)"},"doc://com.github.kean.Nuke/documentation/Nuke/ImagePipeline/loadData(with:queue:progress:completion:)":{"role":"symbol","title":"loadData(with:queue:progress:completion:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"loadData"},{"kind":"text","text":"("},{"kind":"externalParam","text":"with"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"ImageRequestConvertible","preciseIdentifier":"s:4Nuke23ImageRequestConvertibleP"},{"kind":"text","text":", "},{"kind":"externalParam","text":"queue"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"DispatchQueue","preciseIdentifier":"c:objc(cs)OS_dispatch_queue"},{"kind":"text","text":"?, "},{"kind":"externalParam","text":"progress"},{"kind":"text","text":": (("},{"kind":"typeIdentifier","text":"Int64","preciseIdentifier":"s:s5Int64V"},{"kind":"text","text":", "},{"kind":"typeIdentifier","text":"Int64","preciseIdentifier":"s:s5Int64V"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"Void","preciseIdentifier":"s:s4Voida"},{"kind":"text","text":")?, "},{"kind":"externalParam","text":"completion"},{"kind":"text","text":": ("},{"kind":"typeIdentifier","text":"Result","preciseIdentifier":"s:s6ResultO"},{"kind":"text","text":"<(data"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Data","preciseIdentifier":"s:10Foundation4DataV"},{"kind":"text","text":", response"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"URLResponse","preciseIdentifier":"c:objc(cs)NSURLResponse"},{"kind":"text","text":"?), "},{"kind":"typeIdentifier","text":"ImagePipeline","preciseIdentifier":"s:4Nuke13ImagePipelineC"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"Error","preciseIdentifier":"s:4Nuke13ImagePipelineC5ErrorO"},{"kind":"text","text":">) -> "},{"kind":"typeIdentifier","text":"Void","preciseIdentifier":"s:s4Voida"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"ImageTask","preciseIdentifier":"s:4Nuke9ImageTaskC"}],"abstract":[{"type":"text","text":"Loads the image data for the given request. The data doesn’t get decoded"},{"type":"text","text":" "},{"type":"text","text":"or processed in any other way."}],"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImagePipeline\/loadData(with:queue:progress:completion:)","kind":"symbol","type":"topic","url":"\/documentation\/nuke\/imagepipeline\/loaddata(with:queue:progress:completion:)"},"doc://com.github.kean.Nuke/documentation/Nuke/configuration":{"role":"article","title":"Configuration","abstract":[{"type":"text","text":"Nuke virtually unlimited possibilities for customization and most of them are done using "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImagePipeline\/Configuration-swift.struct"},{"type":"text","text":"."}],"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/configuration","kind":"article","type":"topic","url":"\/documentation\/nuke\/configuration"},"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control":{"title":"cache-control","titleInlineContent":[{"type":"codeVoice","code":"cache-control"}],"type":"link","identifier":"https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/HTTP\/Headers\/Cache-Control","url":"https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/HTTP\/Headers\/Cache-Control"},"doc://com.github.kean.Nuke/documentation/Nuke/ImagePipeline/Configuration-swift.struct/DataCachePolicy-swift.enum/storeEncodedImages":{"role":"symbol","title":"ImagePipeline.Configuration.DataCachePolicy.storeEncodedImages","fragments":[{"kind":"keyword","text":"case"},{"kind":"text","text":" "},{"kind":"identifier","text":"storeEncodedImages"}],"abstract":[{"type":"text","text":"For all requests, encode and store decoded images after all"},{"type":"text","text":" "},{"type":"text","text":"processors are applied."}],"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/ImagePipeline\/Configuration-swift.struct\/DataCachePolicy-swift.enum\/storeEncodedImages","kind":"symbol","type":"topic","url":"\/documentation\/nuke\/imagepipeline\/configuration-swift.struct\/datacachepolicy-swift.enum\/storeencodedimages"},"doc://com.github.kean.Nuke/documentation/Nuke/DataCache":{"role":"symbol","title":"DataCache","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"DataCache"}],"abstract":[{"type":"text","text":"An LRU disk cache that stores data in separate files."}],"identifier":"doc:\/\/com.github.kean.Nuke\/documentation\/Nuke\/DataCache","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"DataCache"}],"url":"\/documentation\/nuke\/datacache"}}}