<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Nuke  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="Nuke  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">Nuke Docs</a> (89% documented)</p>
        <p class="header-right"><a href="https://github.com/kean/nuke"><img src="img/gh.png"/>View on GitHub</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">Nuke Reference</a>
        <img id="carat" src="img/carat.png" />
        Nuke  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/Cache.html">Cache</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/CancellationTokenSource.html">CancellationTokenSource</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/DataDecoderComposition.html">DataDecoderComposition</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/DataLoader.html">DataLoader</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/Deduplicator.html">Deduplicator</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/DispatchQueueScheduler.html">DispatchQueueScheduler</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/Loader.html">Loader</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/Loader/Schedulers.html">– Schedulers</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/Loader/Error.html">– Error</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/Manager.html">Manager</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/OperationQueueScheduler.html">OperationQueueScheduler</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/Preheater.html">Preheater</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/RateLimiter.html">RateLimiter</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Enums.html">Enums</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/Result.html">Result</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Extensions/ImageView.html">ImageView</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Functions.html">Functions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Functions.html#/s:F4Nuke13cancelRequestFT3forPs9AnyObject__T_">cancelRequest(for:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:F4Nuke9loadImageFT4withV10Foundation3URL4intoPS_6Target__T_">loadImage(with:into:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:F4Nuke9loadImageFT4withVS_7Request4intoPS_6Target__T_">loadImage(with:into:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:F4Nuke9loadImageFT4withV10Foundation3URL4intoPs9AnyObject_7handlerFTGOS_6ResultCSo7UIImage_Sb_T__T_">loadImage(with:into:handler:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:F4Nuke9loadImageFT4withVS_7Request4intoPs9AnyObject_7handlerFTGOS_6ResultCSo7UIImage_Sb_T__T_">loadImage(with:into:handler:)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Protocols/AsyncScheduler.html">AsyncScheduler</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/Caching.html">Caching</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/DataDecoding.html">DataDecoding</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/DataLoading.html">DataLoading</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/Loading.html">Loading</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/Processing.html">Processing</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/Scheduler.html">Scheduler</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/Target.html">Target</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Structs.html">Structs</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Structs/AnyProcessor.html">AnyProcessor</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/CancellationToken.html">CancellationToken</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/DataDecoder.html">DataDecoder</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Decompressor.html">Decompressor</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Decompressor/ContentMode.html">– ContentMode</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/ProcessorComposition.html">ProcessorComposition</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Request.html">Request</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Request/MemoryCacheOptions.html">– MemoryCacheOptions</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Typealiases.html">Typealiases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:4Nuke5Image">Image</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:4Nuke9ImageView">ImageView</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <p align="center"><img src="https://cloud.githubusercontent.com/assets/1567433/13918338/f8670eea-ef7f-11e5-814d-f15bdfd6b2c0.png" height="180"/>

<p align="center">
<img src="https://img.shields.io/cocoapods/v/Nuke.svg?label=version">
<img src="https://img.shields.io/badge/supports-CocoaPods%20%7C%20Carthage%20%7C%20SwiftPM-green.svg">
<img src="https://img.shields.io/badge/platforms-iOS%20%7C%20macOS%20%7C%20watchOS%20%7C%20tvOS-lightgrey.svg">
<a href="https://travis-ci.org/kean/Nuke"><img src="https://img.shields.io/travis/kean/Nuke/master.svg"></a>
</p>

<p>A powerful <strong>image loading</strong> and <strong>caching</strong> framework which allows for hassle-free image loading in your app.</p>
<h1 id='a-name-h_features-a-features' class='heading'><a name="h_features"></a>Features</h1>

<ul>
<li>Load images into image views and other targets</li>
<li>Two <a href="https://kean.github.io/post/image-caching">cache layers</a>, fast LRU memory cache</li>
<li><a href="https://github.com/kean/Nuke-Alamofire-Plugin">Alamofire</a>, <a href="https://github.com/kean/Nuke-Gifu-Plugin">Gifu</a>, <a href="https://github.com/kean/Nuke-Toucan-Plugin">Toucan</a> plugins</li>
<li><a href="#h_design">Freedom to use</a> networking, caching libraries of your choice</li>
<li><a href="https://github.com/ReactiveX/RxSwift">RxSwift</a> extensions provided by <a href="https://github.com/kean/RxNuke">RxNuke</a></li>
<li>Automated <a href="https://kean.github.io/post/image-preheating">prefetching</a> with <a href="https://github.com/kean/Preheat">Preheat</a> library</li>
<li>Simple, small (~1k sloc), <a href="https://github.com/kean/Image-Frameworks-Benchmark">fast</a> and reliable</li>
</ul>
<h1 id='a-name-h_getting_started-a-quick-start' class='heading'><a name="h_getting_started"></a>Quick Start</h1>

<ul>
<li><a href="https://github.com/kean/Nuke/blob/master/Documentation/Guides/Installation%20Guide.md">Installation Guide</a></li>
<li><a href="https://github.com/kean/Nuke/blob/master/Documentation/">Documentation</a></li>
<li><a href="http://kean.github.io/Nuke/reference/5.1/index.html">API Reference</a></li>
</ul>

<p>Upgrading from the previous version? Use a <a href="https://github.com/kean/Nuke/blob/master/Documentation/Migrations">migration guide</a>.</p>
<h1 id='a-name-h_usage-a-usage' class='heading'><a name="h_usage"></a>Usage</h1>
<h4 id='loading-images-into-targets' class='heading'>Loading Images into Targets</h4>

<p>You can load an image into an image view with a single line of code. Nuke will automatically load image data, decompress it in the background, store the image in the memory cache, and finally display it.</p>
<pre class="highlight swift"><code><span class="kt">Nuke</span><span class="o">.</span><span class="nf">loadImage</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">url</span><span class="p">,</span> <span class="nv">into</span><span class="p">:</span> <span class="n">imageView</span><span class="p">)</span>
</code></pre>
<h4 id='reusing-targets' class='heading'>Reusing Targets</h4>

<p><code>Nuke.loadImage(with:into:)</code> method cancels previous outstanding request associated with the target. Nuke holds a weak reference to a target, when the target is deallocated the associated request gets cancelled automatically.</p>
<pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">collectionView</span><span class="p">(</span><span class="n">_</span> <span class="nv">collectionView</span><span class="p">:</span> <span class="kt">UICollectionView</span><span class="p">,</span> <span class="n">cellForItemAt</span> <span class="nv">indexPath</span><span class="p">:</span> <span class="kt">IndexPath</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">UICollectionViewCell</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="n">cell</span><span class="o">.</span><span class="n">imageView</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="kc">nil</span>
    <span class="kt">Nuke</span><span class="o">.</span><span class="nf">loadImage</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">url</span><span class="p">,</span> <span class="nv">into</span><span class="p">:</span> <span class="n">cell</span><span class="o">.</span><span class="n">imageView</span><span class="p">)</span>
    <span class="o">...</span>
<span class="p">}</span>
</code></pre>
<h4 id='supporting-custom-targets' class='heading'>Supporting Custom Targets</h4>

<p>A <code>target</code> can be any class that implements a <code>Target</code> protocol: </p>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">UIButton</span><span class="p">:</span> <span class="kt">Nuke</span><span class="o">.</span><span class="kt">Target</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">handle</span><span class="p">(</span><span class="nv">response</span><span class="p">:</span> <span class="kt">Result</span><span class="o">&lt;</span><span class="kt">Image</span><span class="o">&gt;</span><span class="p">,</span> <span class="nv">isFromMemoryCache</span><span class="p">:</span> <span class="kt">Bool</span><span class="p">)</span> <span class="p">{</span>
        <span class="nf">setImage</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">normal</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h4 id='providing-custom-handlers' class='heading'>Providing Custom Handlers</h4>

<p>Nuke also has a flexible <code>loadImage(with:into:handler:)</code> method which lets you handle the response by passing a closure:</p>
<pre class="highlight swift"><code><span class="n">indicator</span><span class="o">.</span><span class="nf">startAnimating</span><span class="p">()</span>
<span class="kt">Nuke</span><span class="o">.</span><span class="nf">loadImage</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">request</span><span class="p">,</span> <span class="nv">into</span><span class="p">:</span> <span class="n">view</span><span class="p">)</span> <span class="p">{</span> <span class="p">[</span><span class="k">weak</span> <span class="n">view</span><span class="p">]</span> <span class="n">response</span><span class="p">,</span> <span class="n">_</span> <span class="k">in</span>
    <span class="n">view</span><span class="p">?</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">value</span>
    <span class="n">indicator</span><span class="o">.</span><span class="nf">stopAnimating</span><span class="p">()</span>
<span class="p">}</span>
</code></pre>

<blockquote>
<p>The target in this method is declared as <code>AnyObject</code> with which the requests get associated. </p>
</blockquote>
<h4 id='customizing-requests' class='heading'>Customizing Requests</h4>

<p>Each request is represented by <code>Request</code> struct. A request can be created either with a <code>URL</code> or with a <code>URLRequest</code>.</p>
<pre class="highlight swift"><code><span class="k">var</span> <span class="nv">request</span> <span class="o">=</span> <span class="kt">Request</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="n">url</span><span class="p">)</span>
<span class="c1">// var request = Request(urlRequest: URLRequest(url: url))</span>

<span class="c1">// A request has a number of options that you can change:</span>
<span class="n">request</span><span class="o">.</span><span class="n">memoryCacheOptions</span><span class="o">.</span><span class="n">writeAllowed</span> <span class="o">=</span> <span class="kc">false</span>

<span class="kt">Nuke</span><span class="o">.</span><span class="nf">loadImage</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">request</span><span class="p">,</span> <span class="nv">into</span><span class="p">:</span> <span class="n">imageView</span><span class="p">)</span>
</code></pre>
<h4 id='processing-images' class='heading'>Processing Images</h4>

<p>Nuke provides an infrastructure for processing images and caching them. You can specify custom image processors using <code>Processing</code> protocol which consists of a single method <code>process(image: Image) -&gt; Image?</code>:</p>
<pre class="highlight swift"><code><span class="kd">struct</span> <span class="kt">GaussianBlur</span><span class="p">:</span> <span class="kt">Processing</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">radius</span> <span class="o">=</span> <span class="mi">8</span>

    <span class="kd">func</span> <span class="nf">process</span><span class="p">(</span><span class="nv">image</span><span class="p">:</span> <span class="kt">UIImage</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">UIImage</span><span class="p">?</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">image</span><span class="o">.</span><span class="nf">applyFilter</span><span class="p">(</span><span class="kt">CIFilter</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"CIGaussianBlur"</span><span class="p">,</span> <span class="nv">withInputParameters</span><span class="p">:</span> <span class="p">[</span><span class="s">"inputRadius"</span> <span class="p">:</span> <span class="k">self</span><span class="o">.</span><span class="n">radius</span><span class="p">]))</span>
    <span class="p">}</span>

    <span class="c1">// `Processing` protocol requires `Equatable` to identify cached images.</span>
    <span class="kd">func</span> <span class="o">==</span><span class="p">(</span><span class="nv">lhs</span><span class="p">:</span> <span class="kt">GaussianBlur</span><span class="p">,</span> <span class="nv">rhs</span><span class="p">:</span> <span class="kt">GaussianBlur</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">lhs</span><span class="o">.</span><span class="n">radius</span> <span class="o">==</span> <span class="n">rhs</span><span class="o">.</span><span class="n">radius</span> <span class="c1">// If the processor has no parameters, simply return true</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Usage:</span>
<span class="k">let</span> <span class="nv">request</span> <span class="o">=</span> <span class="kt">Request</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="nf">processed</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="kt">GaussianBlur</span><span class="p">())</span>
<span class="kt">Nuke</span><span class="o">.</span><span class="nf">loadImage</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">request</span><span class="p">,</span> <span class="nv">into</span><span class="p">:</span> <span class="n">imageView</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>See <a href="https://github.com/kean/Nuke/blob/master/Documentation/Guides/Core%20Image%20Integration%20Guide.md">Core Image Integration Guide</a> for more info about using Core Image with Nuke</p>
</blockquote>
<h4 id='using-toucan-plugin' class='heading'>Using Toucan Plugin</h4>

<p>Check out <a href="https://github.com/kean/Nuke-Toucan-Plugin">Toucan Plugin</a> for some useful image transformations. <a href="https://github.com/gavinbunney/Toucan">Toucan</a> is a library that provides a clean API for processing images, including resizing, elliptical and rounded rect masking, and more:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">request</span> <span class="o">=</span> <span class="kt">Nuke</span><span class="o">.</span><span class="kt">Request</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="nf">processed</span><span class="p">(</span><span class="nv">key</span><span class="p">:</span> <span class="s">"Avatar"</span><span class="p">)</span> <span class="p">{</span> 
    <span class="k">return</span> <span class="nv">$0</span><span class="o">.</span><span class="nf">resize</span><span class="p">(</span><span class="kt">CGSize</span><span class="p">(</span><span class="nv">width</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span> <span class="nv">height</span><span class="p">:</span> <span class="mi">500</span><span class="p">),</span> <span class="nv">fitMode</span><span class="p">:</span> <span class="o">.</span><span class="n">crop</span><span class="p">)</span>
             <span class="o">.</span><span class="nf">maskWithEllipse</span><span class="p">()</span>
<span class="p">}</span>
</code></pre>
<h4 id='loading-images-w-o-targets' class='heading'>Loading Images w/o Targets</h4>

<p>You can also use <code>Manager</code> to load images directly without providing a target.</p>
<pre class="highlight swift"><code><span class="kt">Manager</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">loadImage</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">url</span><span class="p">)</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"image </span><span class="se">\(</span><span class="nv">$0</span><span class="o">.</span><span class="n">value</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>

<p>If you&rsquo;d like to be able to cancel the requests use a cancellation token:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">cts</span> <span class="o">=</span> <span class="kt">CancellationTokenSource</span><span class="p">()</span>
<span class="kt">Manager</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">loadImage</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">url</span><span class="p">,</span> <span class="nv">token</span><span class="p">:</span> <span class="n">cts</span><span class="o">.</span><span class="n">token</span><span class="p">)</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"image </span><span class="se">\(</span><span class="nv">$0</span><span class="o">.</span><span class="n">value</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
<span class="p">}</span>
<span class="n">cts</span><span class="o">.</span><span class="nf">cancel</span><span class="p">()</span>
</code></pre>
<h4 id='using-rxnuke' class='heading'>Using RxNuke</h4>

<p><a href="https://github.com/kean/RxNuke">RxNuke</a> adds <a href="https://github.com/ReactiveX/RxSwift">RxSwift</a> extensions for Nuke and enables many common use cases:</p>

<ul>
<li>Going From Low to High Resolution</li>
<li>Loading the First Available Image</li>
<li>Showing Stale Image While Validating It</li>
<li>Load Multiple Images, Display All at Once</li>
<li>Auto Retry</li>
<li>Tracking Activities</li>
</ul>

<p>And <a href="https://github.com/kean/RxNuke#use-cases">many more&hellip;</a></p>
<h4 id='using-memory-cache' class='heading'>Using Memory Cache</h4>

<p>You can get a directly access to the default memory cache used by Nuke:</p>
<pre class="highlight swift"><code><span class="kt">Cache</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">costLimit</span> <span class="o">=</span> <span class="mi">1024</span> <span class="o">*</span> <span class="mi">1024</span> <span class="o">*</span> <span class="mi">100</span> <span class="c1">// 100 MB</span>
<span class="kt">Cache</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">countLimit</span> <span class="o">=</span> <span class="mi">100</span>

<span class="k">let</span> <span class="nv">request</span> <span class="o">=</span> <span class="kt">Request</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="n">url</span><span class="p">)</span>
<span class="kt">Cache</span><span class="o">.</span><span class="n">shared</span><span class="p">[</span><span class="n">request</span><span class="p">]</span> <span class="o">=</span> <span class="n">image</span>
<span class="k">let</span> <span class="nv">image</span> <span class="o">=</span> <span class="kt">Cache</span><span class="o">.</span><span class="n">shared</span><span class="p">[</span><span class="n">request</span><span class="p">]</span>
</code></pre>
<h4 id='preheating-images' class='heading'>Preheating Images</h4>

<p><a href="https://kean.github.io/post/image-preheating">Preheating</a> (prefetching) means loading images ahead of time in anticipation of its use. Nuke provides a <code>Preheater</code> class that does just that:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">preheater</span> <span class="o">=</span> <span class="kt">Preheater</span><span class="p">(</span><span class="nv">manager</span><span class="p">:</span> <span class="kt">Manager</span><span class="o">.</span><span class="n">shared</span><span class="p">)</span>

<span class="c1">// User enters the screen:</span>
<span class="k">let</span> <span class="nv">requests</span> <span class="o">=</span> <span class="p">[</span><span class="kt">Request</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="n">url1</span><span class="p">),</span> <span class="kt">Request</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="n">url2</span><span class="p">),</span> <span class="o">...</span><span class="p">]</span>
<span class="n">preheater</span><span class="o">.</span><span class="nf">startPreheating</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="n">requests</span><span class="p">)</span>

<span class="c1">// User leaves the screen:</span>
<span class="n">preheater</span><span class="o">.</span><span class="nf">stopPreheating</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="n">requests</span><span class="p">)</span>
</code></pre>

<p>You can use Nuke in combination with <a href="https://github.com/kean/Preheat">Preheat</a> library which automates preheating of content in <code>UICollectionView</code> and <code>UITableView</code>. With iOS 10.0 you might want to use new <a href="https://developer.apple.com/reference/uikit/uitableviewdatasourceprefetching">prefetching APIs</a> provided by iOS.</p>

<blockquote>
<p>See <a href="https://github.com/kean/Nuke/blob/master/Documentation/Guides/Performance%20Guide.md">Performance Guide</a> to see what else you can do to improve performance</p>
</blockquote>
<h1 id='plugins-a-name-h_plugins-a' class='heading'>Plugins<a name="h_plugins"></a></h1>
<h3 id='a-href-https-github-com-kean-rxnuke-rxnuke-a' class='heading'><a href="https://github.com/kean/RxNuke">RxNuke</a></h3>

<p><a href="https://github.com/ReactiveX/RxSwift">RxSwift</a> extensions for Nuke with an examples of common use cases solved by Rx.</p>
<h3 id='a-href-https-github-com-kean-nuke-alamofire-plugin-alamofire-plugin-a' class='heading'><a href="https://github.com/kean/Nuke-Alamofire-Plugin">Alamofire Plugin</a></h3>

<p>Allows you to replace networking layer with <a href="https://github.com/Alamofire/Alamofire">Alamofire</a>. Combine the power of both frameworks!</p>
<h3 id='a-href-https-github-com-kean-nuke-gifu-plugin-gifu-plugin-a' class='heading'><a href="https://github.com/kean/Nuke-Gifu-Plugin">Gifu Plugin</a></h3>

<p><a href="https://github.com/kaishin/Gifu">Gifu</a> plugin allows you to load and display animated GIFs.</p>
<h3 id='a-href-https-github-com-kean-nuke-toucan-plugin-toucan-plugin-a' class='heading'><a href="https://github.com/kean/Nuke-Toucan-Plugin">Toucan Plugin</a></h3>

<p><a href="https://github.com/gavinbunney/Toucan">Toucan</a> plugin provides a simple API for processing images. It supports resizing, cropping, rounded rect masking and more.</p>
<h3 id='a-href-https-github-com-kean-nuke-animatedimage-plugin-flanimatedimage-plugin-a-deprecated' class='heading'><a href="https://github.com/kean/Nuke-AnimatedImage-Plugin">FLAnimatedImage Plugin</a> (Deprecated)</h3>

<p><a href="https://github.com/Flipboard/FLAnimatedImage">FLAnimatedImage</a> plugin allows you to load and display animated GIFs with <a href="https://www.youtube.com/watch?v=fEJqQMJrET4">smooth scrolling performance</a> and low memory footprint.</p>
<h1 id='design-a-name-h_design-a' class='heading'>Design<a name="h_design"></a></h1>

<p>Nuke is designed to support <a href="https://en.wikipedia.org/wiki/Dependency_injection">dependency injection</a>. It provides a set of protocols - each with a single responsibility - which manage loading, decoding, processing, and caching images. You can easily create and inject your own implementations of those protocols:</p>

<table><thead>
<tr>
<th>Protocol</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Loading</code></td>
<td>Loads images</td>
</tr>
<tr>
<td><code>DataLoading</code></td>
<td>Downloads data</td>
</tr>
<tr>
<td><code>DataDecoding</code></td>
<td>Converts data into image objects</td>
</tr>
<tr>
<td><code>Processing</code></td>
<td>Image transformations</td>
</tr>
<tr>
<td><code>Caching</code></td>
<td>Stores images into memory cache</td>
</tr>
</tbody></table>
<h3 id='data-loading-and-caching' class='heading'>Data Loading and Caching</h3>

<p>Nuke has a basic built-in <code>DataLoader</code> class that implements <code>DataLoading</code> protocol. It uses <a href="https://developer.apple.com/reference/foundation/nsurlsession"><code>Foundation.URLSession</code></a> which is a part of the Foundation&rsquo;s <a href="https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/URLLoadingSystem/URLLoadingSystem.html">URL Loading System</a>. Another part of it is <a href="https://developer.apple.com/reference/foundation/urlcache"><code>Foundation.URLCache</code></a> which provides a composite in-memory and on-disk cache for data. By default it is initialized with a memory capacity of 0 MB (Nuke only stores decompressed images in memory) and a disk capacity of 150 MB.</p>

<blockquote>
<p>See <a href="https://kean.github.io/post/image-caching">Image Caching Guide</a> to learn more about URLCache, HTTP caching, and more</p>

<p>If you&rsquo;d like to use a third-party caching library check out <a href="https://github.com/kean/Nuke/blob/master/Documentation/Guides/Third%20Party%20Libraries.md#using-other-caching-libraries">Third Party Libraries: Using Other Caching Libraries</a></p>
</blockquote>

<p>Most developers either have their own networking layer, or use some third-party framework. Nuke supports both of these workflows. You can integrate a custom networking layer by implementing <code>DataLoading</code> protocol.</p>

<blockquote>
<p>See <a href="https://github.com/kean/Nuke-Alamofire-Plugin">Alamofire Plugin</a> that implements <code>DataLoading</code> protocol using <a href="https://github.com/Alamofire/Alamofire">Alamofire</a> framework</p>

<p>If you&rsquo;d like to use your own network layer see <a href="https://github.com/kean/Nuke/blob/master/Documentation/Guides/Third%20Party%20Libraries.md#using-other-networking-libraries">Third Party Libraries: Using Other Networking Libraries</a></p>
</blockquote>
<h3 id='memory-cache' class='heading'>Memory Cache</h3>

<p>Nuke provides a fast in-memory <code>Cache</code> that implements <code>Caching</code> protocol. It stores processed images ready to be displayed. <code>Cache</code> uses <a href="https://en.wikipedia.org/wiki/Cache_algorithms#Examples">LRU (least-recently used)</a> replacement algorithm. By default it is initialized with a memory capacity of 20% of the available RAM. As a good citizen <code>Cache</code> automatically evicts images on memory warnings, and removes most of the images when application enters background.</p>
<h1 id='requirements-a-name-h_requirements-a' class='heading'>Requirements<a name="h_requirements"></a></h1>

<ul>
<li>iOS 9.0 / watchOS 2.0 / macOS 10.11 / tvOS 9.0</li>
<li>Xcode 8</li>
<li>Swift 3</li>
</ul>
<h1 id='license' class='heading'>License</h1>

<p>Nuke is available under the MIT license. See the LICENSE file for more info.</p>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2017 <a class="link" href="https://github.com/kean" target="_blank" rel="external">kean</a>. All rights reserved. (Last updated: 2017-06-11)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.8.2</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
