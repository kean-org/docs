<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nuke - ImagePipeline</title>
    <link rel="stylesheet" type="text/css" href="https://kean-org.github.io/docs/nuke/reference/9.5.0/all.css" media="all" />
</head>
<body>
    <header>
        <a href="https://kean-org.github.io/docs/nuke/reference/9.5.0">
            <strong>
                Nuke
            </strong>
            <span>Documentation</span>
        </a>
        <sup>Beta</sup>
    </header>

    <!--
    <form class="search">
        <input type="search" placeholder="Search" />
    </form>
    -->

    <nav>
        <div class="wrapper">
            <h2>On This Page</h2>
            <ol><li><a href="#relationships">Relationships</a><ul><li><a href="#relationships">Nested Types</a></li></ul></li><li><a href="#initializers">Initializers</a><ul><li class="initializer"><a href="#imagepipeline.init(configuration:)">init(configuration:​)</a></li><li class="initializer"><a href="#imagepipeline.init(_:)">init(_:​)</a></li></ul></li><li><a href="#properties">Properties</a><ul><li class="variable"><a href="#imagepipeline.configuration">configuration</a></li><li class="variable"><a href="#imagepipeline.observer">observer</a></li><li class="variable"><a href="#imagepipeline.shared">shared</a></li></ul></li><li><a href="#methods">Methods</a><ul><li class="function"><a href="#imagepipeline.loadimage(with:queue:completion:)">load​Image(with:​queue:​completion:​)</a></li><li class="function"><a href="#imagepipeline.loadimage(with:queue:progress:completion:)">load​Image(with:​queue:​progress:​completion:​)</a></li><li class="function"><a href="#imagepipeline.loaddata(with:queue:completion:)">load​Data(with:​queue:​completion:​)</a></li><li class="function"><a href="#imagepipeline.loaddata(with:queue:progress:completion:)">load​Data(with:​queue:​progress:​completion:​)</a></li><li class="function"><a href="#imagepipeline.cachedimage(for:)">cached​Image(for:​)</a></li><li class="function"><a href="#imagepipeline.cachedimage(for:)">cached​Image(for:​)</a></li><li class="function"><a href="#imagepipeline.cachekey(for:item:)">cache​Key(for:​item:​)</a></li><li class="function"><a href="#imagepipeline.removecachedimage(for:)">remove​Cached​Image(for:​)</a></li></ul></li></ol>
        </div>
    </nav>

    <main>
        <article>
            <h1>
    <small>Class</small>
    <code class="name">Image​Pipeline</code>
</h1>

<div class="declaration">
<pre class="highlight"><code><span class="keyword">public</span> <span class="comment">/* final */</span> <span class="keyword">class</span> <span class="type">ImagePipeline</span> </code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p><code>ImagePipeline</code> loads and decodes image data, processes loaded images and
stores them in caches.</p>

</div>
<div class="discussion">
    <p>See <a href="https://github.com/kean/Nuke">Nuke's README</a> for a detailed overview of
the image pipeline and all of the related classes.</p>

<p>If you want to build a system that fits your specific needs, see <code>ImagePipeline.Configuration</code>
for a list of the available options. You can set custom data loaders and caches, configure
image encoders and decoders, change the number of concurrent operations for each
individual stage, disable and enable features like deduplication and rate limiting, and more.</p>

<p><code>ImagePipeline</code> is fully thread-safe.</p>

</div>
<section id="relationships">
    <h2 hidden>Relationships</h2>
        
        <h3>Nested Types</h3>
<dl>
    <dt class="enumeration"><code><a href="https://kean-org.github.io/docs/nuke/reference/9.5.0/ImagePipeline_Error">ImagePipeline.Error</a></code></dt>
<dd><p>Represents all possible image pipeline errors.</p>
</dd>
<dt class="structure"><code><a href="https://kean-org.github.io/docs/nuke/reference/9.5.0/ImagePipeline_Configuration">ImagePipeline.Configuration</a></code></dt>
<dd></dd>
<dt class="enumeration"><code><a href="https://kean-org.github.io/docs/nuke/reference/9.5.0/ImagePipeline_DataCacheItem">ImagePipeline.DataCacheItem</a></code></dt>
<dd></dd>
</dl>
</section>
    <section id="initializers">
        <h2>Initializers</h2>

        <div role="article" class="initializer" id="imagepipeline.init(configuration:)">
    <h3>
        <code>init(configuration:​)</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="keyword">public</span> <span class="keyword">init</span>(<span class="variable">configuration</span>: <span class="type">Configuration</span> = <span class="variable">Configuration</span>()) </code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Initializes <code>ImagePipeline</code> instance with the given configuration.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>configuration</th>
    <td><code class="type">Configuration</code></td>
    <td><p><code>Configuration()</code> by default.</p>
</td>
</tr>
  </tbody>
</table>
</div>
<div role="article" class="initializer" id="imagepipeline.init(_:)">
    <h3>
        <code>init(_:​)</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="keyword">public</span> <span class="attribute">convenience</span> <span class="keyword">init</span>(<span class="keyword">_</span> <span class="variable">configure</span>: (<span class="keyword">inout</span> <span class="type">ImagePipeline</span>.<span class="type">Configuration</span>) -&gt; <span class="type">Void</span>) </code></pre>
</div>
</div>
    </section>
    <section id="properties">
        <h2>Properties</h2>

        <div role="article" class="variable" id="imagepipeline.configuration">
    <h3>
        <code>configuration</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="keyword">public</span> <span class="keyword">let</span> <span class="variable">configuration</span>: <span class="type">Configuration</span></code></pre>
</div>
</div>
<div role="article" class="variable" id="imagepipeline.observer">
    <h3>
        <code>observer</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="keyword">public</span> <span class="keyword">var</span> <span class="variable">observer</span>: <span class="type">ImagePipelineObserving</span>?</code></pre>
</div>
</div>
<div role="article" class="variable" id="imagepipeline.shared">
    <h3>
        <code>shared</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">var</span> <span class="variable">shared</span> </code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Shared image pipeline.</p>

</div>
</div>
    </section>
    <section id="methods">
        <h2>Methods</h2>

        <div role="article" class="function" id="imagepipeline.loadimage(with:queue:completion:)">
    <h3>
        <code>load​Image(with:​queue:​completion:​)</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="attribute">@</span><span class="attribute">discardableResult</span>
    <span class="keyword">public</span> <span class="keyword">func</span> <span class="function">loadImage</span>(<span class="variable">with</span> <span class="variable">request</span>: <span class="type">ImageRequestConvertible</span>,
                          <span class="variable">queue</span>: <span class="type">DispatchQueue</span>? = <span class="keyword">nil</span>,
                          <span class="variable">completion</span>: <span class="attribute">@</span><span class="attribute">escaping</span> (<span class="keyword">_</span> <span class="variable">result</span>: <span class="type">Result</span>&lt;<span class="type">ImageResponse</span>, <span class="type">Error</span>&gt;) -&gt; <span class="type">Void</span>) -&gt; <span class="type">ImageTask</span> </code></pre>
</div>
</div>
<div role="article" class="function" id="imagepipeline.loadimage(with:queue:progress:completion:)">
    <h3>
        <code>load​Image(with:​queue:​progress:​completion:​)</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="attribute">@</span><span class="attribute">discardableResult</span>
    <span class="keyword">public</span> <span class="keyword">func</span> <span class="function">loadImage</span>(<span class="variable">with</span> <span class="variable">request</span>: <span class="type">ImageRequestConvertible</span>,
                          <span class="variable">queue</span>: <span class="type">DispatchQueue</span>? = <span class="keyword">nil</span>,
                          <span class="variable">progress</span>: ((<span class="keyword">_</span> <span class="variable">intermediateResponse</span>: <span class="type">ImageResponse</span>?, <span class="keyword">_</span> <span class="variable">completedUnitCount</span>: <span class="type">Int64</span>, <span class="keyword">_</span> <span class="variable">totalUnitCount</span>: <span class="type">Int64</span>) -&gt; <span class="type">Void</span>)? = <span class="keyword">nil</span>,
                          <span class="variable">completion</span>: ((<span class="keyword">_</span> <span class="variable">result</span>: <span class="type">Result</span>&lt;<span class="type">ImageResponse</span>, <span class="type">Error</span>&gt;) -&gt; <span class="type">Void</span>)? = <span class="keyword">nil</span>) -&gt; <span class="type">ImageTask</span> </code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Loads an image for the given request using image loading pipeline.</p>

</div>
<div class="discussion">
    <p>The pipeline first checks if the image or image data exists in any of its caches.
It checks if the processed image exists in the memory cache, then if the processed
image data exists in the custom data cache (disabled by default), then if the data
cache contains the original image data. Only if there is no cached data, the pipeline
will start loading the data. When the data is loaded the pipeline decodes it, applies
the processors, and decompresses the image in the background.</p>

<p>To learn more about the pipeine, see the <a href="https://github.com/kean/Nuke">README</a>.</p>

<h1>Deduplication</h1>

<p>The pipeline avoids doing any duplicated work when loading images. For example,
let's take these two requests:</p>

<html><body><pre class="highlight"><code><span class="keyword">let</span> <span class="variable">url</span> = <span class="variable">URL</span>(<span class="variable">string</span>: <span class="string literal">"</span><span class="string literal">http://example.com/image</span><span class="string literal">"</span>)
<span class="variable">pipeline</span>.<span class="type">loadImage</span>(<span class="variable">with</span>: <a href="https://kean-org.github.io/docs/nuke/reference/9.5.0/ImageRequest"><span class="type">ImageRequest</span></a>(<span class="variable">url</span>: <span class="type">url</span>, <span class="variable">processors</span>: [
    <span class="variable">ImageProcessors</span>.<span class="type">Resize</span>(<span class="variable">size</span>: <span class="type">CGSize</span>(<span class="variable">width</span>: <span class="number literal">44</span>, <span class="variable">height</span>: <span class="number literal">44</span>)),
    <span class="variable">ImageProcessors</span>.<span class="type">GaussianBlur</span>(<span class="variable">radius</span>: <span class="number literal">8</span>)
]))
<span class="variable">pipeline</span>.<span class="type">loadImage</span>(<span class="variable">with</span>: <a href="https://kean-org.github.io/docs/nuke/reference/9.5.0/ImageRequest"><span class="type">ImageRequest</span></a>(<span class="variable">url</span>: <span class="type">url</span>, <span class="variable">processors</span>: [
    <span class="variable">ImageProcessors</span>.<span class="type">Resize</span>(<span class="variable">size</span>: <span class="type">CGSize</span>(<span class="variable">width</span>: <span class="number literal">44</span>, <span class="variable">height</span>: <span class="number literal">44</span>))
]))
</code></pre></body></html>
<p>Nuke will load the data only once, resize the image once and blur it also only once.
There is no duplicated work done. The work only gets canceled when all the registered
requests are, and the priority is based on the highest priority of the registered requests.</p>

<h1>Configuration</h1>

<p>See <code>ImagePipeline.Configuration</code> to learn more about the pipeline features and
how to enable/disable them.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>queue</th>
    <td><code class="type">Dispatch​Queue?</code></td>
    <td><p>A queue on which to execute <code>progress</code> and <code>completion</code> callbacks. By default, the pipeline uses <code>.main</code> queue.</p>
</td>
</tr>
<tr>
    <th>progress</th>
    <td><code class="type">((_ intermediate​Response:​ Image​Response?, _ completed​Unit​Count:​ Int64, _ total​Unit​Count:​ Int64) -&gt; Void)?</code></td>
    <td><p>A closure to be called periodically on the main thread when the progress is updated. <code>nil</code> by default.</p>
</td>
</tr>
<tr>
    <th>completion</th>
    <td><code class="type">((_ result:​ Result&lt;Image​Response, Error&gt;) -&gt; Void)?</code></td>
    <td><p>A closure to be called on the main thread when the request is finished. <code>nil</code> by default.</p>
</td>
</tr>
  </tbody>
</table>
</div>
<div role="article" class="function" id="imagepipeline.loaddata(with:queue:completion:)">
    <h3>
        <code>load​Data(with:​queue:​completion:​)</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="attribute">@</span><span class="attribute">discardableResult</span>
    <span class="keyword">public</span> <span class="keyword">func</span> <span class="function">loadData</span>(<span class="variable">with</span> <span class="variable">request</span>: <span class="type">ImageRequestConvertible</span>,
                         <span class="variable">queue</span>: <span class="type">DispatchQueue</span>? = <span class="keyword">nil</span>,
                         <span class="variable">completion</span>: <span class="attribute">@</span><span class="attribute">escaping</span> (<span class="type">Result</span>&lt;(<span class="variable">data</span>: <span class="type">Data</span>, <span class="variable">response</span>: <span class="type">URLResponse</span>?), <span class="type">Error</span>&gt;) -&gt; <span class="type">Void</span>) -&gt; <span class="type">ImageTask</span> </code></pre>
</div>
</div>
<div role="article" class="function" id="imagepipeline.loaddata(with:queue:progress:completion:)">
    <h3>
        <code>load​Data(with:​queue:​progress:​completion:​)</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="attribute">@</span><span class="attribute">discardableResult</span>
    <span class="keyword">public</span> <span class="keyword">func</span> <span class="function">loadData</span>(<span class="variable">with</span> <span class="variable">request</span>: <span class="type">ImageRequestConvertible</span>,
                         <span class="variable">queue</span>: <span class="type">DispatchQueue</span>? = <span class="keyword">nil</span>,
                         <span class="variable">progress</span>: ((<span class="keyword">_</span> <span class="variable">completed</span>: <span class="type">Int64</span>, <span class="keyword">_</span> <span class="variable">total</span>: <span class="type">Int64</span>) -&gt; <span class="type">Void</span>)?,
                         <span class="variable">completion</span>: <span class="attribute">@</span><span class="attribute">escaping</span> (<span class="type">Result</span>&lt;(<span class="variable">data</span>: <span class="type">Data</span>, <span class="variable">response</span>: <span class="type">URLResponse</span>?), <span class="type">Error</span>&gt;) -&gt; <span class="type">Void</span>) -&gt; <span class="type">ImageTask</span> </code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Loads the image data for the given request. The data doesn't get decoded or processed in any
other way.</p>

</div>
<div class="discussion">
    <p>You can call <code>loadImage(:)</code> for the request at any point after calling <code>loadData(:)</code>, the
pipeline will use the same operation to load the data, no duplicated work will be performed.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>queue</th>
    <td><code class="type">Dispatch​Queue?</code></td>
    <td><p>A queue on which to execute <code>progress</code> and <code>completion</code> callbacks. By default, the pipeline uses <code>.main</code> queue.</p>
</td>
</tr>
<tr>
    <th>progress</th>
    <td><code class="type">((_ completed:​ Int64, _ total:​ Int64) -&gt; Void)?</code></td>
    <td><p>A closure to be called periodically on the main thread when the progress is updated. <code>nil</code> by default.</p>
</td>
</tr>
<tr>
    <th>completion</th>
    <td><code class="type">@escaping (Result&lt;(data:​ Data, response:​ URLResponse?), Error&gt;) -&gt; Void</code></td>
    <td><p>A closure to be called on the main thread when the request is finished.</p>
</td>
</tr>
  </tbody>
</table>
</div>
<div role="article" class="function" id="imagepipeline.cachedimage(for:)">
    <h3>
        <code>cached​Image(for:​)</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="keyword">func</span> <span class="function">cachedImage</span>(<span class="variable">for</span> <span class="variable">url</span>: <span class="type">URL</span>) -&gt; <span class="type">ImageContainer</span>? </code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Returns a cached response from the memory cache.</p>

</div>
</div>
<div role="article" class="function" id="imagepipeline.cachedimage(for:)">
    <h3>
        <code>cached​Image(for:​)</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="keyword">func</span> <span class="function">cachedImage</span>(<span class="variable">for</span> <span class="variable">request</span>: <span class="type">ImageRequest</span>) -&gt; <span class="type">ImageContainer</span>? </code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Returns a cached response from the memory cache. Returns <code>nil</code> if the request disables
memory cache reads.</p>

</div>
</div>
<div role="article" class="function" id="imagepipeline.cachekey(for:item:)">
    <h3>
        <code>cache​Key(for:​item:​)</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="keyword">func</span> <span class="function">cacheKey</span>(<span class="variable">for</span> <span class="variable">request</span>: <span class="type">ImageRequest</span>, <span class="variable">item</span>: <span class="type">DataCacheItem</span>) -&gt; <span class="type">String</span> </code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Returns a key used for disk cache (see <code>DataCaching</code>).</p>

</div>
</div>
<div role="article" class="function" id="imagepipeline.removecachedimage(for:)">
    <h3>
        <code>remove​Cached​Image(for:​)</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="keyword">func</span> <span class="function">removeCachedImage</span>(<span class="variable">for</span> <span class="variable">request</span>: <span class="type">ImageRequest</span>) </code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Removes cached image from all cache layers.</p>

</div>
</div>
    </section>



        </article>
    </main>

    <footer>
        <p>
    Generated on <time datetime="2021-04-04T09:53:56-0400">4 April 2021</time> using <a href="https://github.com/SwiftDocOrg/swift-doc">swift-doc</a> <span class="version">1.0.0-beta.5</span>.
</p>
    </footer>
</body>
</html>
